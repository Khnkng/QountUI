<div *ngIf="!showCharts">
  <div class="row box-container" [ngClass]="{'disabled': true}">
    <div class="column medium-6 large-3">
      <div class="box">
        <div class="content">
          <div class="flex-item box-status">
            <div class="value">{{boxInfo.pastDue | currency:displayCurrency:true:'1.2-2'}}</div>
            <div class="label due">Past Due</div>
          </div>
          <div class="flex-item box-status-icon due">
            <i class="icon ion-social-usd"></i>
          </div>
        </div>
      </div>
    </div>
    <div class="column medium-6 large-3">
      <div class="box">
        <div class="content">
          <div class="flex-item box-status">
            <div class="value">{{boxInfo.dueToday | currency:displayCurrency:true:'1.2-2'}}</div>
            <div class="label">Due Today</div>
          </div>
          <div class="flex-item box-status-icon today">
            <i class="icon ion-social-usd"></i>
          </div>

        </div>
      </div>
    </div>
    <div class="column medium-6 large-3">
      <div class="box">
        <div class="content">
          <div class="flex-item box-status">
            <div class="value">{{boxInfo.dueThisWeek | currency:displayCurrency:true:'1.2-2'}}</div>
            <div class="label">Due This Week</div>
          </div>
          <div class="flex-item box-status-icon month">
            <i class="icon ion-social-usd"></i>
          </div>

        </div>
      </div>
    </div>
    <div class="column medium-6 large-3">
      <div class="box">
        <div class="content">
          <div class="flex-item box-status">
            <div class="value">{{boxInfo.payables | currency:displayCurrency:true:'1.2-2'}}</div>
            <div class="label">Payables</div>
          </div>
          <div class="flex-item box-status-icon ytd">
            <i class="icon ion-social-usd"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="tab-container bills-tab-container" foundation>
    <div class="row ">
      <div class="column medium-10 resetPaddings">
        <div class="row tabber bills-tabber">
          <div class="column medium-1 tab" (click)="reRoutePage(0)" [ngClass]="{'selected': tabDisplay[0].display == 'block'}">
            <span [ngClass]="{'whiteColor': tabDisplay[0].display == 'block'}"><i class="icon ion-ios-keypad"></i></span>
          </div>
          <div class="column medium-2 tab" (click)="reRoutePage(1)" [ngClass]="{'selected': tabDisplay[1].display == 'block'}">
            <label [ngClass]="{'whiteColor': tabDisplay[1].display == 'block'}">
              <span>Enter</span>
              <span class="income-currency">({{badges.Enter ? badges.Enter : localBadges ? localBadges.Enter?localBadges.Enter:0:0 }})</span>
            </label>
          </div>
          <div class="column medium-2 tab" (click)="reRoutePage(2)" [ngClass]="{'selected': tabDisplay[2].display == 'block'}">
            <label [ngClass]="{'whiteColor': tabDisplay[2].display == 'block'}">
              <span>Approve</span>
              <span class="income-currency">({{badges.Approve ? badges.Approve : localBadges ? localBadges.Approve?localBadges.Approve:0:0 }})</span>
            </label>
          </div>
          <div class="column medium-2 tab" (click)="reRoutePage(3)" [ngClass]="{'selected': tabDisplay[3].display == 'block'}">
            <label [ngClass]="{'whiteColor': tabDisplay[3].display == 'block'}">
              <span>Pay</span>
              <span class="income-currency">({{badges.Pay ? badges.Pay : localBadges ? localBadges.Pay?localBadges.Pay:0:0 }})</span>
            </label>
          </div>
          <div class="column medium-2 tab" (click)="reRoutePage(4)" [ngClass]="{'selected': tabDisplay[4].display == 'block'}">
            <label [ngClass]="{'whiteColor': tabDisplay[4].display == 'block'}">
              <span>Paid</span>
              <span class="income-currency">({{badges.Paid ? badges.Paid : localBadges ? localBadges.Paid?localBadges.Paid:0:0}})</span>
            </label>
          </div>
        </div>
      </div>
      <div class="column medium-2 resetPaddings">
        <div class="row add-share-buttons">
          <div class="column medium-12 text-right">
        <span class="pointer recon-selected-count" *ngIf="tabDisplay[1].display == 'block'" (click)="addFreshBill()">
          <i class="icon ion-ios-plus-outline"></i>
          <span>Bill</span>
        </span>
            <span class="pointer recon-selected-count" *ngIf="tabDisplay[1].display == 'block'" (click)="addFreshBill()">
              <i class="icon ion-ios-plus-outline"></i>
              <span >Credit</span>
            </span>
            <span class="pointer" *ngIf="tabDisplay[3].display == 'block'">
          <span *ngIf="selectedRows.length > 0" class="add-bill-button" (click)="validatePaySelected()">
            Pay Selected
          </span>
        </span>
          </div>
        </div>
      </div>
    </div>
    <div class="row collapse tab-content bills-tab-content">
      <div *ngIf="tabDisplay[0].display == 'block'" class="column small-12 medium-12 large-12" id="paymentsdashboard">
        <div class="payment-dashboard" *ngIf="showChartExpansion">
            <div class="row expanded" foundation>
              <div class="column medium-12">
                <div class="row report-stats word-wrap">
                  <div class="column medium-3 small-12" style="padding-left:0;" *ngIf="payable">
                    <div class="row">
                      <div class="column medium-6 pointer report-stats-padding" style="background-color: #05807C" (click)="payableclick('totalpayable')">
                        <div>{{paymentcount.totalPayable | currency:companyCurrency:true:'1.2-2'}}</div>
                        <div>Total Payable</div>
                      </div>
                      <div class="column medium-6 pointer" style="background-color: #F06459" (click)="payableclick('pastdue')">
                        <div>{{paymentcount.pastDue | currency:companyCurrency:true:'1.2-2'}}</div>
                        <div>Past Due</div>
                      </div>
                    </div>
                  </div>
                  <div class="column medium-2 small-12 pointer report-stats-padding" style="background-color:#87D0CE;" *ngIf="isTransit" (click)="paidclick('all')">
                    <div class="dashboard-box-padding"><span class="recon-selected-count">{{paymentsInTransit.totalAmount| currency:companyCurrency:true:'1.2-2'}}</span></div>
                    <div><span>{{paymentsInTransit.unmappedPaymentsCount}} </span><span>Payments In Transit</span></div>
                  </div>
                  <div class="column medium-3 small-12" *ngIf="payable">
                    <div class="row">
                      <div class="column medium-7 pointer report-stats-padding" style="background: #05807C;" (click)="payableclick('approve')">
                        <div>{{paymentcount.totalApproveBillAmount | currency:companyCurrency:true:'1.2-2'}}</div>
                        <div><span>Approve</span><span>&nbsp;{{paymentcount.totalApproveBillCount}}&nbsp;</span><span>Bills</span></div>
                      </div>
                      <div class="column medium-5 pointer" style="background: #00B1A6;" (click)="payableclick('pay')">
                        <div>{{paymentcount.totalPayBillAmount | currency:companyCurrency:true:'1.2-2'}}</div>
                        <div><span>Pay</span><span>&nbsp;{{paymentcount.totalPayBillCount}}&nbsp;</span><span>Bills</span></div>
                      </div>
                    </div>
                  </div>
                  <div class="column medium-2 small-12 pointer report-stats-padding" style="background: #87D0CE;" *ngIf="payablecount" (click)="paidclick('30days')">
                    <div class="dashboard-box-padding"><span class="recon-selected-count">{{paidcount.totalPaidBillsAmountSum | currency:companyCurrency:true:'1.2-2'}}</span></div>
                    <div>{{paidcount.bills_count}}  Paid In Last 30 Days</div>
                  </div>
                  <div class="column medium-2 small-12 pointer report-stats-padding" *ngIf="payableBalance">
                    <div class="row">
                      <div class="column medium-12 report-stats-padding" style="background: #05807C;">
                        <div><span class="recon-selected-count">{{bookcount.totalCurrentBalance | currency:companyCurrency:true:'1.2-2'}}</span></div>
                        <div>Book Balance</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="row expanded" style="border-bottom:1px solid #e1e1e1;">
              <div class="column medium-6 expanded charts-main" style="border-right:1px solid #e1e1e1;">
                <div *ngIf="reportasas" style="min-width: 300px;height:400px;">
                  <high-chart #hChart3=highChart [options]="reportChartOptionspie"></high-chart>
                </div>
              </div>
              <div class="column medium-6 expanded charts-main">
                <div *ngIf="reportasas" style="min-width: 300px;height:400px;">
                  <high-chart #hChart2=highChart [options]="reportChartOptionsStacked"></high-chart>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="column medium-6 detailed-chart-icons">
                <span class="text-right float-right" (click)="showOtherCharts('pie')"><i class="icon ion-arrow-expand" [ngClass]="detailedChartIcons"></i></span>
              </div>
              <div class="column medium-6 detailed-chart-icons">
                <span class="text-right float-right" (click)="showOtherCharts('stackedbar')"><i class="icon ion-arrow-expand" [ngClass]="detailedChartIcons"></i></span>
              </div>
            </div>

            <div class="row expanded">
              <div class="column medium-12 expanded charts-main">
                <div *ngIf="reportasas" style="min-width: 300px;height:400px;">
                  <high-chart #hChart1=highChart [options]="reportChartOptions"></high-chart>
                </div>
              </div>
            </div>
            <div class="row chart-margin">
              <div class="column medium-12">
                <span class="text-right float-right" (click)="showOtherCharts('bar')"><i class="icon ion-arrow-expand" [ngClass]="detailedChartIcons"></i></span>
              </div>
            </div>
        </div>
        <div class="row" *ngIf="!showChartExpansion">
          <div class="column">
            <div class=" callout entry-callout text-center" [hidden]="isLoading">
              <div class="woo-woo">Woot Woot!</div>
              <p>No Reports Available.</p>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="tabDisplay[1].display == 'block'" class="column small-12 medium-12 large-12" id="entry">
        <div class="row">
          <div class="column">
            <foo-table class="bigpay-dashboard bighalf-footable" *ngIf="hasBillsList" [data]="billsTableData" [options]="billsTableOptions" (onRowAction)="handleAction($event)"></foo-table>
            <div class=" callout entry-callout text-center" [hidden]="isLoading" *ngIf="!hasBillsList">
              <div class="woo-woo">Woot Woot!</div>
              <p>There are no bills to enter.</p>
            </div>
          </div>
          <div class="column small-12 medium-6 large-6 " [ngClass] = "{'bill-selected':showPreview}" *ngIf="showPreview">
            <div *ngIf="showPreview">
              <h6 style="margin-top:10px;">{{hoveredBill?.name}} <i (click)="hideBillPreview()" class="icon ion-close-round float-right"></i><span class="float-right"> <a title="download" target="_blank" href="{{downloadLink}}"><i style="margin-right:10px;font-size: 1.5rem;color:#6f7f8f;" class="icon ion-ios-cloud-download"></i></a></span></h6>
              <img *ngIf="!isPdf" [src]="billImageLink" width="100%"/>
              <!--<embed *ngIf="isPdf" [src]="billLink" width="100%" height="400px;" pluginspage="http://www.adobe.com/products/acrobat/readstep2.html">-->
              <div *ngIf="isPdf">
                <iframe [src]="billPdfLink" [ngStyle]="{'width':'100%', 'height':tabHeight}" frameborder="0"></iframe>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="tabDisplay[2].display == 'block'" class="column small-12 medium-12 large-12" id="approve">
        <div class="row">
          <div class="column">
            <foo-table class="bigpay-dashboard bighalf-footable" *ngIf="hasBillsList" [data]="billsTableData" [options]="billsTableOptions" (onRowAction)="handleAction($event)"></foo-table>
            <div class=" callout text-center" [hidden]="isLoading" *ngIf="!hasBillsList">
              <div class="woo-woo">Woot Woot!</div>
              <p>There are no bills to approve.</p>
            </div>
          </div>
          <div class="column small-12 medium-6 large-6" *ngIf="showPreview">
            <div *ngIf="showPreview">
              <h6 style="margin-top:10px;">{{hoveredBill?.name}} <i (click)="hideBillPreview()" class="icon ion-close-round float-right"></i><span class="float-right"> <a title="download" target="_blank" href="{{downloadLink}}"><i style="margin-right:10px;font-size: 1.5rem;color:#6f7f8f;" class="icon ion-ios-cloud-download"></i></a></span></h6>
              <img *ngIf="!isPdf" [src]="billImageLink" width="100%"/>
              <!--<embed *ngIf="isPdf" [src]="billLink" width="100%" height="400px;" pluginspage="http://www.adobe.com/products/acrobat/readstep2.html">-->
              <div *ngIf="isPdf">
                <iframe [src]="billPdfLink" [ngStyle]="{'width':'100%', 'height':tabHeight}" frameborder="0"></iframe>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="tabDisplay[3].display == 'block'" class="column small-12 medium-12 large-12" id="pay">
        <div class="row">
          <div class="column">
            <foo-table class="bigpay-dashboard bighalf-footable" *ngIf="hasBillsList" [data]="billsTableData" [options]="billsTableOptions" (onRowSelect)="handleSelect($event)" (onRowAction)="handleAction($event)"></foo-table>
            <div class=" callout text-center" [hidden]="isLoading" *ngIf="!hasBillsList">
              <div class="woo-woo">Woot Woot!</div>
              <p>There are no bills to pay.</p>
            </div>
          </div>
          <div class="column small-12 medium-6 large-6" *ngIf="showPreview">
            <div *ngIf="showPreview">
              <h6 style="margin-top:10px;">{{hoveredBill?.name}} <i (click)="hideBillPreview()" class="icon ion-close-round float-right"></i><span class="float-right"> <a title="download" target="_blank" href="{{downloadLink}}"><i style="margin-right:10px;font-size: 1.5rem;color:#6f7f8f;" class="icon ion-ios-cloud-download"></i></a></span></h6>
              <img *ngIf="!isPdf" [src]="billImageLink" width="100%"/>
              <!--<embed *ngIf="isPdf" [src]="billLink" width="100%" height="400px;" pluginspage="http://www.adobe.com/products/acrobat/readstep2.html">-->
              <div *ngIf="isPdf">
                <iframe [src]="billPdfLink" [ngStyle]="{'width':'100%', 'height':tabHeight}" frameborder="0"></iframe>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="tabDisplay[4].display == 'block'" class="column small-12 medium-12 large-12" id="paid">
        <div class="row">
          <div class="column">
            <foo-table class="bigpay-dashboard bighalf-footable" *ngIf="hasBillsList" [data]="billsTableData" [options]="billsTableOptions" (onRowAction)="handleAction($event)"></foo-table>
            <div class=" callout text-center" [hidden]="isLoading" *ngIf="!hasBillsList">
              <div class="woo-woo">Woot Woot!</div>
              <p>There are no bills to paid.</p>
            </div>
          </div>
          <div class="column small-12 medium-6 large-6" *ngIf="showPreview">
            <div *ngIf="showPreview">
              <h6 style="margin-top:10px;">{{hoveredBill?.name}} <i (click)="hideBillPreview()" class="icon ion-close-round float-right"></i> <span class="float-right"> <a title="download" target="_blank" href="{{downloadLink}}"><i style="margin-right:10px;font-size: 1.5rem;color:#6f7f8f;" class="icon ion-ios-cloud-download"></i></a></span></h6>
              <img *ngIf="!isPdf" [src]="billImageLink" width="100%"/>
              <!--<embed *ngIf="isPdf" [src]="billLink" width="100%" height="400px;" pluginspage="http://www.adobe.com/products/acrobat/readstep2.html">-->
              <div *ngIf="isPdf">
                <iframe [src]="billPdfLink" [ngStyle]="{'width':'100%', 'height':tabHeight}" frameborder="0"></iframe>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row box-notifiers box-notifiers-alignment">
    <span class="pointer">
      <span>Approve</span>
      <span class="notifiers-count">({{badges.Approve ? badges.Approve : localBadges ? localBadges.Approve?localBadges.Approve:0:0 }})</span>
    </span>
    <span class="pointer" (click)="goToTools('payments')">
      <span>Payments</span>
      <span class="notifiers-count">({{paymentsCount}})</span>
    </span>
    <span class="pointer" (click)="goToTools('workflow')">
      <span>Workflow</span>
    </span>
    <span class="pointer" (click)="goToTools('expenseCode')">
      <span>Expense Code</span>
      <span class="notifiers-count">({{expenseCodeCount}})</span>
    </span>
  </div>
  <div class="reveal tiny bill-modal-container" id="bill-password-conformation" data-reveal foundation  data-close-on-click="false">
    <label>Enter Password
      <input type="password" [(ngModel)]="key"  placeholder="Password*">
    </label>
    <div class="text-right">
      <button class="button small" [disabled]="!checkValidation()" (click)="validateLockKey()">Submit</button>
      <button class="button small" (click)="closePasswordConfirmation()">Cancel</button>
    </div>
  </div>
</div>
<div class="row chart-margin" *ngIf="showCharts">
  <!--<button class="close-button" style="top:inherit !important;" data-close aria-label="Close modal" type="button" (click)="hideFlyout()">
      <span aria-hidden="true">
        <i class="ion-ios-close-empty"></i>
      </span>
  </button>-->
  <div class="column medium-12 expanded charts-main">
    <div *ngIf="reportasas" style="min-width: 300px;height: calc(100vh - 150px);">
      <high-chart #hChart4=highChart [options]="detailedReportChartOptions"></high-chart>
    </div>
  </div>

</div>

