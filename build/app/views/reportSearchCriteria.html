<section class="report-criteria-container" [hidden]="hideReportForm">
  <div class="row">
    <div class="column small-12 medium-8">
      <header>
        <h5 class="report-criteria-header">{{reportName}}</h5>
        <hr>
      </header>
      <div class="row report-criteria-form">
        <div class="column small-12 medium-6 large-8" *ngIf="fields.indexOf('reportPeriod') != -1">
          <label class="report-form-fields">
            <span class="label-format">Report Period</span>
            <span class="required text-right">*</span>

            <div class="row">
              <div class="column no-padding small-4 medium-5">
                <select [(ngModel)]="report.period" (change)="setDate($event.target.value, report)">
                  <option value={{period}} *ngFor="let period of periods">{{period}}</option>
                </select>
              </div>
              <div class="column  small-2  text-center special-seperator" *ngIf="reportType == 'aging' || reportType == 'agingDetail'">
                as of
              </div>
              <div class="column small-6 medium-5" >
                <template [ngIf]="reportType == 'aging' || reportType == 'agingDetail'">
                  <span class="float-left" *ngIf="report.period!='Custom'">
                <input type="text" readonly [(ngModel)]="report.asOfDate" placeholder="Selected Report Period">
                </span>
                  <span class="float-left" style="margin-left:5px;" *ngIf="report.period=='Custom'">
                  <input type="text" custom-datepicker [mindate]="'past'" placeholder="Please choose date" [format]="MM/DD/YYYY" (valueChanged)="setAsOfDate($event, report)"/>
                </span>
                </template>
              </div>
            </div>
          </label>
        </div>
        <div class="column small-12 medium-6 large-4" *ngIf="fields.indexOf('asOfDate') != -1">
          <label class="report-form-fields">
            <span class="label-format">As of date</span>
            <span class="required text-right">*</span>
            <input type="text" custom-datepicker [format]="MM/DD/YYYY" [mindate]="'past'" value="{{report.asOfDate}}" (valueChanged)="setAsOfDate($event, report)"/>
          </label>
        </div>
        <div class="column small-12 medium-6 large-4" *ngIf="fields.indexOf('basis') != -1">
          <label class="report-form-fields">
            <span class="label-format">Basis</span>
            <span class="required text-right">*</span>
            <select [(ngModel)]="report.basis">
              <option value="cash">Cash</option>
              <option value="accrual">Accrual</option>
            </select>
          </label>
        </div>
        <div class="column small-12 medium-6 large-4" *ngIf="fields.indexOf('daysPerAgingPeriod') != -1">
          <label class="report-form-fields">
            <span class="label-format">Days Per aging period</span>
            <span class="required text-right">*</span>
            <input type="text" [(ngModel)]="report.daysPerAgingPeriod">
          </label>
        </div>
        <div class="column small-12 medium-6 large-4" *ngIf="fields.indexOf('numberOfPeriods') != -1">
          <label class="report-form-fields">
            <span class="label-format">Number of periods</span>
            <span class="required text-right">*</span>
            <input type="text" [(ngModel)]="report.numberOfPeriods">
          </label>
        </div>
        <div class="column small-12 medium-6 large-4" *ngIf="fields.indexOf('startDate') != -1 && report.period=='Custom'">
          <label class="report-form-fields">
            <span class="label-format">Start Date</span>
            <span class="required text-right">*</span>
            <input type="text" custom-datepicker [format]="MM/DD/YYYY" [mindate]="'past'" value="{{report.startDate}}" (valueChanged)="setAsOfDate($event, report)"/>
          </label>
        </div>
        <div class="column small-12 medium-6 large-4" *ngIf="fields.indexOf('endDate') != -1 && report.period=='Custom'">
          <label class="report-form-fields">
            <span class="label-format">End Date</span>
            <span class="required text-right">*</span>
            <input type="text" custom-datepicker [format]="MM/DD/YYYY" [mindate]="'past'" value="{{report.endDate}}" (valueChanged)="setCustomEndDate($event, report)"/>
          </label>
        </div>
        <div class="column small-12 medium-6 large-4" *ngIf="reportType == 'vendorSummary' && report.period && (report.period!=='This Month' && report.period!=='Last Month')">
          <label class="report-form-fields">
            <span class="label-format">Breakdown</span>
            <span class="required text-right">*</span>
            <select [(ngModel)]="report.breakdown">
              <option value="monthly">Monthly</option>
              <option value="quarterly">Quarterly</option>
            </select>
          </label>
        </div>
      </div>
    </div>

    <div class="column small-12 medium-4 report-info-section">
      <label class="section-header">REPORT INFORMATION</label>

      <div class="row">
        <div class="column small-8">
          <p>
            {{reportDesc}}
          </p>
        </div>

      </div>

    </div>
  </div>
</section>
<div class="row collapsed report-buttons">
  <div class="columns small-12 right" [hidden]="hideReportForm">
    <button class="button small" (click)="generateReport()">Run</button>
    <button class="button small" (click)="showCustomizeFieldPanel()">Customize</button>
  </div>
</div>

<!--
<div class="hide-reporting-form" >
  <i [ngClass]="{'ion-chevron-up':!hideReportForm, 'ion-chevron-down':hideReportForm}"
     (click)="hideReportForm = !hideReportForm"></i>
</div>
-->



<div class="sidenav customization-panel" [ngClass]="customizePanelCSS" foundation>
  <button class="close-button " data-close aria-label="Close modal" type="button">
        <span aria-hidden="true">
          <i class="ion-ios-close-empty" (click)="hideCustomizeFieldPanel()"></i>
        </span>
  </button>
  <div class="row collapse customize-vert-tabs">

    <div class="column medium-2 customize-vert-tabs-division">
      <div class="customize-tabs-header">
        <h5>{{reportName}}</h5>
      </div>
      <ul class="tabs vertical" id="report-customize-vert-tabs" data-tabs>
        <li class="tabs-title is-active"><a href="#panelGeneral" aria-selected="true">General
          <i class="ion-ios-settings-strong"></i>
        </a></li>
        <li class="tabs-title" *ngIf="reportType == 'aging' || reportType == 'agingDetail'"><a href="#panelAging">Aging
          <i class="ion-clock"></i></a></li>
        <li class="tabs-title" *ngIf="customizationObj.filters && customizationObj.filters.length && customizationObj.filters[0].values"><a href="#panelFilters">Filters
          <i class="ion-funnel"></i></a></li>
        <li class="tabs-title"><a href="#panelHeaders">Headers
          <i class="fa fa-header"></i></a></li>
        <li class="tabs-title"><a href="#panelFooters">Footers
          <i class="ion-ios-settings-strong"></i></a></li>
        <li class="tabs-title"><a href="#panelAlignment">Alignment
          <i class="fa fa-align-justify"></i></a></li>
      </ul>
    </div>
    <div class="column medium-9 customize-tabs-content-section">
      <div class="customize-tabs-header">
        <h5>Customize your report & Save for future</h5>
      </div>
      <div class="tabs-content vertical customize-tabs-content report-criteria-container" data-tabs-content="report-customize-vert-tabs" style="background-color:#ebeff2 !important;">
        <div class="tabs-panel is-active" id="panelGeneral">
          <div class="row report-criteria-form">
            <div class="column small-12 medium-6 large-8">
              <label class="report-form-fields">
                <span class="label-format">Report Period</span>

                <div class="row">
                  <div class="column no-padding small-4 medium-5">
                    <select [(ngModel)]="customizationObj.customizations.period" (change)="setDate($event.target.value, customizationObj.customizations)">
                      <option value={{period}} *ngFor="let period of periods">{{period}}</option>
                    </select>
                  </div>
                  <div class="column  small-2  text-center special-seperator" *ngIf="reportType == 'aging' || reportType == 'agingDetail'">
                    as of
                  </div>
                  <div class="column small-6 medium-5" >
                    <template [ngIf]="reportType == 'aging' || reportType == 'agingDetail'">
                  <span class="float-left" *ngIf="customizationObj.customizations.period!='Custom'">
                <input type="text" readonly [(ngModel)]="customizationObj.customizations.asOfDate" placeholder="Selected Report Period">
                </span>
                      <span class="float-left" style="margin-left:5px;" *ngIf="customizationObj.customizations.period=='Custom'">
                  <input type="text" custom-datepicker placeholder="Please choose date" [format]="MM/DD/YYYY" (valueChanged)="setAsOfDate($event, customizationObj.customizations)"/>
                </span>
                    </template>
                  </div>
                </div>
              </label>
            </div>
          </div>
          <div class="row report-criteria-form">
            <div class="column small-12 medium-6 large-4" *ngIf="(customizationObj.customizations.period=='Custom') && (fields.indexOf('endDate') != -1)">
              <label class="report-form-fields">
                <span class="label-format">Start Date</span>
                <input type="text" custom-datepicker [format]="MM/DD/YYYY"
                       value="{{customizationObj.customizations.startDate}}"
                       (valueChanged)="setStartDate($event, customizationObj.customizations)"/>
              </label>
            </div>
            <div class="column small-12 medium-6 large-4" *ngIf="(customizationObj.customizations.period=='Custom') && (fields.indexOf('endDate') != -1)">
              <label class="report-form-fields">
                <span class="label-format">End Date</span>
                <input type="text" custom-datepicker [format]="MM/DD/YYYY" value="{{customizationObj.customizations.endDate}}" (valueChanged)="setCustomEndDate($event, customizationObj.customizations)"/>
              </label>
            </div>
          </div>
          <div class="row report-criteria-form">
            <div class="column small-12 medium-6 large-4" *ngIf="reportType == 'vendorSummary' && customizationObj.customizations.period &&
                    (customizationObj.customizations.period!=='This Month' && customizationObj.customizations.period!=='Last Month')">
              <label class="report-form-fields">
                <span class="label-format">Breakdown</span>
                <select [(ngModel)]="customizationObj.customizations.breakdown">
                  <option value="monthly">Monthly</option>
                  <option value="quarterly">Quarterly</option>
                </select>
              </label>
            </div>
          </div>
          <div class="row report-criteria-form">
            <div class="column small-12 medium-6 large-8">
              <label class="report-form-fields">
                <span class="label-format">Number format</span>

                <div class="row">
                  <div class="column no-padding small-4">
                    <input type="checkbox" id="checkboxDivide" [(ngModel)]="customizationObj.customizations.divideByThousand"/>
                    <label for="checkboxDivide">Divide by 1000</label>
                  </div>
                  <div class="column  small-4">
                    <input type="checkbox" id="checkboxCents" [(ngModel)]="customizationObj.customizations.withoutCents"/>
                    <label for="checkboxCents">Without cents</label>
                  </div>
                  <div class="column small-4" >
                    <input type="checkbox" id="checkboxZero" [(ngModel)]="customizationObj.customizations.exceptZeroAmount"/>
                    <label for="checkboxZero">Except zero amount</label>
                  </div>
                </div>
              </label>
            </div>
            <div class="column small-12 medium-6 large-8">
              <label class="report-form-fields">
                <span class="label-format">Negative numbers</span>

                <div class="row">
                  <div class="column no-padding small-4">
                    <select [(ngModel)]="customizationObj.customizations.negativeNumberFormat" (change)="setNegativeNumberFormat($event.target.value)">
                      <option value="">Select one</option>
                      <option>-100</option>
                      <option>(100)</option>
                      <option>100-</option>
                    </select>
                  </div>
                  <div class="column  small-4">
                    <input type="checkbox" id="checkboxShowRed" [(ngModel)]="customizationObj.customizations.showInRed"/>
                    <label for="checkboxShowRed">Show in red</label>
                  </div>
                  <div class="column small-4" >

                  </div>
                </div>
              </label>
            </div>
          </div>
        </div>
        <div class="tabs-panel" id="panelAging">
          <div class="row report-criteria-form">
            <div class="column small-12 medium-6 large-6">
              <label class="report-form-fields">
                <span class="label-format">Aging method</span>
                <div class="row">
                  <div class="column no-padding small-6">
                    <input type="radio" id="agingCurrentRadio" name="agingMethod" value="current" [(ngModel)]="customizationObj.customizations.agingMethod"/>
                    <label for="agingCurrentRadio">Current</label>
                  </div>
                  <div class="column  small-6">
                    <input type="radio" id="agingReportRadio" name="agingMethod" value="reportDate" [(ngModel)]="customizationObj.customizations.agingMethod"/>
                    <label for="agingReportRadio">Report Date</label>
                  </div>
                </div>
              </label>
            </div>
            <div class="column small-12 medium-6 large-4">
              <label class="report-form-fields">
                <span class="label-format">Number of periods</span>
                <input type="text" [(ngModel)]="customizationObj.customizations.numberOfPeriods" placeholder="Choose period, Ex:5"/>
              </label>
            </div>
            <div class="column small-12 medium-6 large-4">
              <label class="report-form-fields">
                <span class="label-format">Days per aging period</span>
                <input type="text" [(ngModel)]="customizationObj.customizations.daysPerAgingPeriod" placeholder="Choose days per aging, Ex:5"/>
              </label>
            </div>
          </div>
        </div>
        <div class="tabs-panel" id="panelFilters">
          <div class="row report-criteria-form">
            <div class="column small-12 medium-6 large-6">
              <label class="report-form-fields">
                <span class="label-format">Vendors</span>
                <div class="row">
                  <template ngFor [ngForOf]="vendors" let-vendor="$implicit">
                    <div class="column no-padding small-4">
                      <input type="checkbox" name="vendors" id="{{vendor.id}}"value="{{vendor.id}}" [checked]="customizationObj.filters && customizationObj.filters.length && customizationObj.filters[0].values.indexOf(vendor.id) >= 0"
                             (change)="updateCheckedVendors(vendor.id, $event)"/>
                      <label>{{vendor.name}}</label>
                    </div>
                  </template>
                </div>
              </label>
            </div>
          </div>
        </div>
        <div class="tabs-panel" id="panelHeaders">
          <div class="row report-criteria-form">
            <div class="column small-12 medium-6 large-6">
              <label class="report-form-fields">
                <span class="label-format">Company name</span>

                <div class="row">
                  <div class="column no-padding small-4">
                    <input type="checkbox" id="checkboxCompanyName" [(ngModel)]="customizationObj.customizations.includeCompanyName"/>
                    <label for="checkboxCompanyName">Company name</label>
                  </div>
                  <div class="column  small-8">
                    <input type="text" [disabled] = "!customizationObj.customizations.includeCompanyName" [(ngModel)]="customizationObj.customizations.customCompanyName"/>
                  </div>

                </div>
              </label>
            </div>
            <div class="column small-12 medium-6 large-6">
              <label class="report-form-fields">
                <span class="label-format">Report title</span>

                <div class="row">
                  <div class="column no-padding small-4">
                    <input type="checkbox" id="checkboxReportTitle" [(ngModel)]="customizationObj.customizations.includeReportTitle"/>
                    <label for="checkboxReportTitle">Report title</label>
                  </div>
                  <div class="column  small-8">
                    <input type="text" [disabled] = "!customizationObj.customizations.includeReportTitle" [(ngModel)]="customizationObj.customizations.reportTitle"/>
                  </div>

                </div>
              </label>
            </div>
            <div class="column small-12 medium-6 large-4">
              <label class="report-form-fields">
                <span class="label-format">Report period</span>
                <div class="row">
                  <div class="column no-padding small-6">
                    <input type="checkbox" id="reportPeriodCheckbox" [(ngModel)]="customizationObj.customizations.includeReportPeriod"/>
                    <label for="reportPeriodCheckbox">Report period</label>
                  </div>
                </div>

              </label>
            </div>
          </div>
        </div>
        <div class="tabs-panel" id="panelFooters">
          <div class="row report-criteria-form">
            <div class="column small-12 medium-6 large-4">
              <label class="report-form-fields">
                <span class="label-format">Date prepared</span>
                <div class="row">
                  <div class="column no-padding small-6">
                    <input type="checkbox" id="datePreparedCheckbox" [(ngModel)]="customizationObj.customizations.includeDatePrepared"/>
                    <label for="datePreparedCheckbox">Date prepared</label>
                  </div>
                </div>

              </label>
            </div>
            <div class="column small-12 medium-6 large-4">
              <label class="report-form-fields">
                <span class="label-format">Time prepared</span>
                <div class="row">
                  <div class="column no-padding small-6">
                    <input type="checkbox" id="timePreparedCheckbox" [(ngModel)]="customizationObj.customizations.includeTimePrepared"/>
                    <label for="timePreparedCheckbox">Time prepared</label>
                  </div>
                </div>

              </label>
            </div>
          </div>
        </div>
        <div class="tabs-panel" id="panelAlignment">
          <div class="row report-criteria-form">
            <div class="column small-12 medium-6 large-4">
              <label class="report-form-fields">
                <span class="label-format">Header</span>
                <select [(ngModel)]="customizationObj.customizations.headerAlignment" (change)="setHeaderAlignment($event.target.value)">
                  <option></option>
                  <option value="center">Center</option>
                  <option value="left">Left</option>
                  <option value="right">Right</option>
                </select>
              </label>
            </div>
            <div class="column small-12 medium-6 large-4">
              <label class="report-form-fields">
                <span class="label-format">Footer</span>
                <select [(ngModel)]="customizationObj.customizations.footerAlignment" (change)="setFooterAlignment($event.target.value)">
                  <option></option>
                  <option value="center">Center</option>
                  <option value="left">Left</option>
                  <option value="right">Right</option>
                </select>
              </label>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="column right">
          <button class="button small" (click)="saveFilterValues(customizationObj)">Save</button>
        </div>
      </div>
    </div>



  </div>

</div>
