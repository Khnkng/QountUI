<style>
    @media print {
        #report-tabs{
            display: none !important;
        }
    }
    table{
        margin-top: 30px;
        border: 1px solid #f1f1f1;
        width: 100%;
    }
    thead{
        background: none;
    }
    th{
        color: #878787;
        font-size: 15px;
    }
    tr{
        height: 36px;
    }
    td, th{
        border-bottom: 1px solid #DCDEDD;
    }
    .header{
        color: #282895;
        text-align: center;
    }
    .company-name{
        font-weight: 800;
        font-size: 20px;
    }
    .report-name{
        font-size: 18px;
    }
    .criteria{
        font-size: 16px;
    }
    .text-center{
        text-align: center;
    }
    .text-right{
        text-align: right;
        padding-right: 10px;
    }
    .heading-color{
        color: #808CC5;
        font-weight: 800;
    }
    .total-color{
        color: #00B1A9;
        font-weight: 800;
    }
    .level1{
        padding-left: 2rem;
    }
    .level2{
        padding-left: 4rem;
    }
    .level3{
        padding-left: 6rem;
    }
    .level4{
        padding-left: 8rem;
    }
</style>
<div foundation class="income-statement">

    <div class="report-wrapper" id="WrappedDetails" [hidden]="!allSections.showReportForm">
        <report-search-criteria [reportName]="'Cash Flow Statement'" [reportDesc]="'Cash Flow Statement.'"
                                [hideReportForm]="!allSections.showReportForm" [setReportType]="'cashFlowStatement'"></report-search-criteria>
    </div>

    <div class="reports" *ngIf="allSections.showTabber">
        <ul class="reports tabs" data-tabs id="report-tabs">
            <li class="reports tabs-title" [ngClass]="{'is-active': isTabActive('summary')==true}"><a id="a-summary"(click)="setActiveTab('summary')" aria-selected="true"><h6>Dashboard</h6></a></li>
            <li class="reports tabs-title" [ngClass]="{'is-active': isTabActive('detailReport')==true}"><a id="a-detailReport" (click)="setActiveTab('detailReport')"><h6>Detail Report</h6></a></li>
        </ul>
        <div class="reports tabs-content" data-tabs-content="report-tabs">
            <div class="reports tabs-panel is-active" *ngIf="isTabActive('summary')" id="summary">
                <div class="row income-charts">
                    <div class="column medium-8 small-12" style="padding-left: 0">
                        <div class="row chart-margin">
                            <div class="column medium-3 small-6 report-stats-padding">
                                <div class="text-center income-stats" [ngStyle]="{'background-color': incomeStatsColors[0]}">
                                    <div>CASH BALANCE</div>
                                    <div>{{getFormattedAmount(result.metrics.cashBalance)}}</div>
                                </div>
                            </div>
                            <div class="column medium-3 small-6 report-stats-padding">
                                <div class="text-center income-stats" [ngStyle]="{'background-color': incomeStatsColors[2]}">
                                    <div>CURRENT RATIO</div>
                                    <div>{{getFormattedPercentage(result.metrics.currentRatio)}}</div>
                                </div>
                            </div>
                            <div class="column medium-3 small-6 report-stats-padding">
                                <div class="text-center income-stats" [ngStyle]="{'background-color': incomeStatsColors[1]}">
                                    <div>QUICK RATIO</div>
                                    <div>{{getFormattedPercentage(result.metrics.quickRatio)}}</div>
                                </div>
                            </div>
                            <div class="column medium-3 small-6 report-stats-padding">
                                <div class="text-center income-stats" [ngStyle]="{'background-color': incomeStatsColors[3]}">
                                    <div>CASH FROM OA</div>
                                    <div>{{getFormattedAmount(result.operatingActivities)}}</div>
                                </div>
                            </div>
                        </div>

                        <div class="row chart-margin">
                            <div class="column medium-12 small-12 charts-main report-stats-padding" style="min-width: 300px;height:300px;">
                                <template [ngIf]="hasCashBurnData">
                                    <high-chart #hChart1=highChart [options]="cashBurnDataOptions"></high-chart>
                                </template>
                            </div>
                        </div>
                        <div class="row">
                            <div class="column medium-12 detailed-chart-icons">
                                <template [ngIf]="hasCashBurnData">
                                    <span class="text-right float-right" (click)="showOtherCharts('cashBurnChart')"><i class="icon icon ion-arrow-expand" [ngClass]="detailedChartIcons"></i></span>
                                </template>
                            </div>
                        </div>

                        <div class="row chart-margin" style="border-top:1px solid #e1e1e1;">
                            <div class="column medium-6 charts-main report-stats-padding" style="min-width: 300px;height:300px; border-right:1px solid #e1e1e1;padding-top:20px;">
                                <template [ngIf]="hasCashTrendData">
                                    <high-chart #hChart2=highChart [options]="cashTrendDataOptions"></high-chart>
                                </template>
                            </div>
                            <div class="column medium-6 charts-main report-stats-padding" style="min-width: 300px;height:300px;padding-top:20px;">
                                <template [ngIf]="hasCashCompositionData">
                                    <high-chart #hChart3=highChart [options]="groupedCashCompositionDataOptions"></high-chart>
                                </template>
                            </div>
                        </div>
                        <div class="row">
                            <div class="column medium-6 detailed-chart-icons">
                                <template [ngIf]="hasCashTrendData">
                                    <span class="text-right float-right" (click)="showOtherCharts('cashTrendChart')"><i class="icon icon ion-arrow-expand" [ngClass]="detailedChartIcons"></i></span>
                                </template>
                            </div>
                            <div class="column medium-6 detailed-chart-icons">
                                <template [ngIf]="hasCashCompositionData">
                                    <span class="text-right float-right" (click)="showOtherCharts('cashCompositionChart')"><i class="icon icon ion-arrow-expand" [ngClass]="detailedChartIcons"></i></span>
                                </template>
                            </div>
                        </div>
                    </div>
                    <div class="column medium-4 small-12 chart-margin income-statement-stats">
                        <div class="text-center">Cash Flow Statement</div>
                        <div class="income-totals">
                            <span>Cash At Beginning of Period</span>
                            <span class="float-right">{{getFormattedAmount(result.amountTillYear)}}</span>
                        </div>
                        <hr class="incomeSeparator">
                        <div>
                            <span>Net Income</span>
                            <span class="float-right">{{getFormattedAmount(result.netIncome)}}</span>
                        </div>
                        <div><span>Operating Activities</span></div>
                        <div><span>Adjustments</span></div>
                        <div class="row income-opex">
                            <div class="column medium-12 report-stats-padding">
                                <span>Current Assets</span>
                                <span class="float-right">{{getFormattedAmount(result.currentAssets.total)}}</span>
                            </div>
                            <div class="column medium-12 report-stats-padding">
                                <span>Current Liabilities</span>
                                <span class="float-right">{{getFormattedAmount(result.currentLiabilities.total)}}</span>
                            </div>
                        </div>
                        <div>
                            <span>Net Cash From Operating Activities</span>
                            <span class="float-right">{{getFormattedAmount(result.operatingActivities)}}</span>
                        </div>
                        <div><span>Investing Activities</span></div>
                        <div class="row income-opex">
                            <div class="column medium-12 report-stats-padding">
                                <span>Non Current Assets</span>
                                <span class="float-right">{{getFormattedAmount(result.nonCurrentAssets.total)}}</span>
                            </div>
                        </div>
                        <div>
                            <span>Net Cash From Investing Activities</span>
                            <span class="float-right">{{getFormattedAmount(result.investingActivities)}}</span>
                        </div>
                        <div><span>Financing Activities</span></div>
                        <div class="row income-opex">
                            <div class="column medium-12 report-stats-padding">
                                <span>Long Term Liabilities</span>
                                <span class="float-right">{{getFormattedAmount(result.longTermLiabilities.total)}}</span>
                            </div>
                            <div class="column medium-12 report-stats-padding">
                                <span>Equity</span>
                                <span class="float-right">{{getFormattedAmount(result.equity.total)}}</span>
                            </div>
                        </div>
                        <div>
                            <span>Net Cash From Financing Activities</span>
                            <span class="float-right">{{getFormattedAmount(result.financingActivities)}}</span>
                        </div>
                        <div class="income-totals">
                            <span>Net Cash Increase during period</span>
                            <span class="float-right">{{getFormattedAmount(result.netCashIncrease)}}</span>
                        </div>
                        <hr class="incomeSeparator">
                        <div class="income-totals">
                            <span>Cash at end of period</span>
                            <span class="float-right">{{getFormattedAmount(result.cashAtEndOfPeriod)}}</span>
                        </div>
                        <hr class="incomeSeparator">
                    </div>
                </div>
            </div>
            <div class="reports tabs-panel is-active" *ngIf="isTabActive('detailReport')" id="detailReport">
                <div class="float-right icons report-icon-header">
                    <i class="icon ion-ios-email-outline" (click)="openemail()"></i>
                    <i class="icon ion-ios-cloud-download-outline" data-toggle="export-dropdown"></i>
                    <div class="dropdown-pane bottom" id="export-dropdown" data-dropdown data-hover="true" data-hover-pane="true" foundation>
                        <div (click)="exportToExcel()" class="export-option">Export To Excel</div>
                        <div (click)="exportToPDF()" class="export-option">Export To PDF</div>
                    </div>
                    <i class="icon ion-ios-printer-outline" (click)="printDiv()"></i>
                </div>
                <div id="numeric">
                    <div class="display-report applyBackground" *ngIf="isSuccess">
                        <div [ngClass]="customObj.customizations.headerAlignment" class="print-mode">
                            <div class="header company-name">{{companyName}}</div>
                            <div class="header report-name">{{reportName}}</div>
                            <div class="header criteria" *ngIf="customObj.customizations.includeReportPeriod">
                                As of {{reportPeriod}}
                            </div>
                        </div>
                        <table class="highlight-last-row report-table">
                            <thead>
                            <tr>
                                <th colspan="4" class="text-center">COA Name</th>
                                <th class="text-center">Amount</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td class="heading-color" colspan="4">Cash At Beginning of Period</td>
                                <td class="total-color text-right">{{getFormattedAmount(result.amountTillYear)}}</td>
                            </tr>
                            <tr>
                                <td class="heading-color" colspan="4">Operating Activities</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td class="level1" colspan="4">Net Income</td>
                                <td class="text-right">{{getFormattedAmount(result.netIncome)}}</td>
                            </tr>
                            <tr>
                                <td class="level1" colspan="4">Adjustments</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td class="level2" colspan="4">Current Assets</td>
                                <td></td>
                            </tr>
                            <tr *ngFor="let coa of sortChartOfAccounts(result.currentAssets, 'Current Assets')">
                                <td [ngClass]="coa.class" colspan="4">{{coa.name}}</td>
                                <td class="text-right">
                                    {{getFormattedAmount(coa.amount)}}
                                </td>
                            </tr>
                            <tr>
                                <td class="level2" colspan="4">Current Liabilities</td>
                                <td></td>
                            </tr>
                            <tr *ngFor="let coa of sortChartOfAccounts(result.currentLiabilities, 'Current Liabilities')">
                                <td [ngClass]="coa.class" colspan="4">{{coa.name}}</td>
                                <td class="text-right">
                                    {{getFormattedAmount(coa.amount)}}
                                </td>
                            </tr>
                            <tr>
                                <td class="heading-color" colspan="4">Net Cash From Operating Activities</td>
                                <td class="total-color text-right">{{getFormattedAmount(result.operatingActivities)}}</td>
                            </tr>
                            <tr>
                                <td class="heading-color" colspan="4">Investing Activities</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td class="level2" colspan="4">Non Current Assets</td>
                                <td></td>
                            </tr>
                            <tr *ngFor="let coa of sortChartOfAccounts(result.nonCurrentAssets, 'Non Current Assets')">
                                <td [ngClass]="coa.class" colspan="4">{{coa.name}}</td>
                                <td class="text-right">
                                    {{getFormattedAmount(coa.amount)}}
                                </td>
                            </tr>
                            <tr>
                                <td class="heading-color" colspan="4">Net Cash From Investing Activities</td>
                                <td class="total-color text-right">{{getFormattedAmount(result.investingActivities)}}</td>
                            </tr>
                            <tr>
                                <td class="heading-color" colspan="4">Financing Activities</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td class="level2" colspan="4">Long Term Liabilities</td>
                                <td></td>
                            </tr>
                            <tr *ngFor="let coa of sortChartOfAccounts(result.longTermLiabilities, 'Long Term Liabailities')">
                                <td [ngClass]="coa.class" colspan="4">{{coa.name}}</td>
                                <td class="text-right">
                                    {{getFormattedAmount(coa.amount)}}
                                </td>
                            </tr>
                            <tr>
                                <td class="level2" colspan="4">Equity</td>
                                <td></td>
                            </tr>
                            <tr *ngFor="let coa of sortChartOfAccounts(result.equity, 'Equity')">
                                <td [ngClass]="coa.class" colspan="4">{{coa.name}}</td>
                                <td class="text-right">
                                    {{getFormattedAmount(coa.amount)}}
                                </td>
                            </tr>
                            <tr>
                                <td class="heading-color" colspan="4">Net Cash From Financing Activities</td>
                                <td class="total-color text-right">{{getFormattedAmount(result.financingActivities)}}</td>
                            </tr>
                            <tr>
                                <td class="heading-color" colspan="4">Net Cash Increase during period</td>
                                <td class="total-color text-right">{{getFormattedAmount(result.netCashIncrease)}}</td>
                            </tr>
                            <tr>
                                <td class="heading-color" colspan="4">Cash at end of period</td>
                                <td class="total-color text-right">{{getFormattedAmount(result.cashAtEndOfPeriod)}}</td>
                            </tr>
                            </tbody>
                        </table>
                        <footer [ngClass]="customObj.customizations.footerAlignment">
                            <span *ngIf="customObj.customizations.includeDatePrepared">{{datePrepared}}</span>
                            <span *ngIf="customObj.customizations.includeTimePrepared">{{timePrepared}}</span>
                        </footer>
                    </div>
                    <div class="report-failure" *ngIf="isFailure">
                        <div style="text-align: center;padding-top: 10px;">
                            <div class="failure-text">This report does not contain any data.</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div foundation class="column large-12 medium-12 small-12 foo-container chart_search" *ngIf="allSections.showDetailedIncome">
        <foo-table #fooTableDir="fooTable" *ngIf="hasDetailedData" class="bighalf-footable" [data]="detailedtableData" [options]="detailedtableDataOptions" (onRowClick)="handleSelectActivity($event)"></foo-table>
    </div>

    <div class="row expanded chart-margin" *ngIf="allSections.showExpandChart">
        <div class="column medium-12 expanded charts-main">
            <div style="min-width: 600px;height: calc(100vh - 150px);">
                <high-chart  *ngIf="showDetailedChart" #hChart4=highChart [options]="detailedReportChartOptions"></high-chart>
            </div>
        </div>
    </div>

    <div foundation class="column large-12 medium-12 small-12 foo-container chart_search chart-margin income-journals" *ngIf="allSections.showJournals">
        <foo-table #fooTableDir="fooTable" *ngIf="hasJornalDetailedData" class="bighalf-footable hide-pagination" [data]="JournaldetailedtableData" [options]="detailedtableDataOptions" (onRowClick)="goToJournalEntry($event)"></foo-table>
    </div>

    <div class="reveal medium bill-modal-container" #reportMail id="EmailModal" style="width: 900px;height:700px;" data-reveal data-close-on-click="false" data-animation-in="ease-in" data-animation-out="ease-out">
        <form (ngSubmit)="doEmail($event)" novalidate [formGroup]="emailForm">
            <div class="row">
                <div style="font-size: larger;font-weight: 800">Email Report</div>
            </div>
            <div class="row">
                <pre><label for="ToAddress" style="font-weight: 700;margin-top: 20px;">To    </label><br /></pre>
                <div class="small-16 columns" style="margin-top: 20px;">
                    <input formControlName="Toaddress" id="Toaddress" [tagsList]="[]" class="bighalf-tags,input, empty" name="name" type="text" value="" size="30" custom-tags /><br />
                </div>
            </div>
            <div class="row" *ngIf="showEmail">
                <pre><label for="cc" style="font-weight: 700">CC    </label><br /></pre>
                <div class="small-16 columns">
                    <input formControlName="cc" id="cc" [tagsList]="emailAddress"  class="bighalf-tags,input, empty" name="email" type="text" size="30" custom-tags /><br />
                </div>
            </div>
            <div class="row">
                <pre><label for="Emailsubject" style="font-weight: 700">Subject</label><br /></pre>
                <div class="small-16 columns">
                    <input formControlName="Emailsubject" id="Emailsubject" class="input" name="email" type="text" value="Your+'reportName" size="30" /><br />
                </div>
            </div>
            <div class="row">
                <pre><label style="font-weight: 700">Body   </label><br /></pre>
                <div class="small-16 columns">
                    <textarea formControlName="EmailBody" rows="7" cols="50"  id="EmailBody">
                        Hello, &#13;&#10;
                        Attached is {{reportName}} &#13;&#10;
                        Regards,&#13;&#10;
                        {{user.first_name}} {{user.last_name}}
                    </textarea><br />
                </div>
            </div>
            <div class="row">
                <pre><label for="report" style="font-weight:bold;">Report </label><br /></pre>
                <div class="small-16 columns">
                    <input id="report" class="input" name="Report" type="text" value="{{reportName}} report" size="30" /><br />
                </div>
            </div>
            <button class="button" style="float: right;" type="submit" data-close>Send</button>
        </form>
        <button class="close-button" data-close aria-label="Close reveal" type="button">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
</div>